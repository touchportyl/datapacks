# update state
tag @s remove DD_command_config
execute unless entity @a[tag=DD_command_config] run scoreboard players operation EVENT$command.config.handled DimensionalDoors = BOOL$true DatapackManager

execute as @s run function dimensionaldoors:packages/configtriggers/enable

tellraw @s [{"text":" "},{"text":"Dimensional Doors","color":"white","bold":true},{"text":"\n"}]

#tellraw @s [{"text":" "},{"text":"Nothing to configure.","color":"gray"}]


# destroy explosively [CONFIG$destroyexplosively]
execute if score CONFIG$destroyexplosively DimensionalDoors = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Destroy Explosively","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Toggle entity and environmental damage upon destroying a dimensional door"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Toggle entity and environmental damage upon destroying a dimensional door"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_001_t"},"click_event":{"action":"run_command","command":"/trigger z_dd_001_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$destroyexplosively DimensionalDoors = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Destroy Explosively","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Toggle entity and environmental damage upon destroying a dimensional door"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Toggle entity and environmental damage upon destroying a dimensional door"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_001_f"},"click_event":{"action":"run_command","command":"/trigger z_dd_001_f"}}]


# performance [CONFIG$performance]
execute if score CONFIG$performance DimensionalDoors = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Performance Mode","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Lowers the amount of particles displayed"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Lowers the amount of particles displayed"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_002_t"},"click_event":{"action":"run_command","command":"/trigger z_dd_002_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$performance DimensionalDoors = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Performance Mode","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Lowers the amount of particles displayed"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Lowers the amount of particles displayed"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_002_f"},"click_event":{"action":"run_command","command":"/trigger z_dd_002_f"}}]


# disable particles [CONFIG$disableparticles]
execute if score CONFIG$disableparticles DimensionalDoors = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Disable Particles","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Toggle all particles from dimensional doors"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Toggle all particles from dimensional doors"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_003_t"},"click_event":{"action":"run_command","command":"/trigger z_dd_003_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$disableparticles DimensionalDoors = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Disable Particles","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Toggle all particles from dimensional doors"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Toggle all particles from dimensional doors"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_dd_003_f"},"click_event":{"action":"run_command","command":"/trigger z_dd_003_f"}}]

tellraw @s [{"text":" "}]
