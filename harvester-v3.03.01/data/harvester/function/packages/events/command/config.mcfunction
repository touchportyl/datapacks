# update state
tag @s remove MD_command_config
execute unless entity @a[tag=MD_command_config] run scoreboard players operation EVENT$command.config.handled Harvester = BOOL$true DatapackManager

execute as @s run function harvester:packages/configtriggers/enable

tellraw @s [{"text":" "},{"text":"Harvester","color":"white","bold":true},{"text":"\n"}]


# xp gain [CONFIG$harvestxp]
execute if score CONFIG$harvestxp Harvester = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Harvest XP","color":"white","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enables XP orb drops when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables XP orb drops when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_001_t"},"click_event":{"action":"run_command","command":"/trigger z_hv_001_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$harvestxp Harvester = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Harvest XP","color":"white","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enables XP orb drops when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables XP orb drops when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_001_f"},"click_event":{"action":"run_command","command":"/trigger z_hv_001_f"}}]


# bonus xp gain [CONFIG$harvestxpbonus]
execute if score CONFIG$harvestxpbonus Harvester = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Harvest XP Bonus","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enables a 25% chance of dropping an extra bonus xp orb when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables a 25% chance of dropping an extra bonus xp orb when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_002_t"},"click_event":{"action":"run_command","command":"/trigger z_hv_002_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$harvestxpbonus Harvester = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Harvest XP Bonus","color":"white","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Enables a 25% chance of dropping an extra bonus xp orb when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables a 25% chance of dropping an extra bonus xp orb when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_002_f"},"click_event":{"action":"run_command","command":"/trigger z_hv_002_f"}}]


# tool breaking [CONFIG$toolbreaking]
execute if score CONFIG$toolbreaking Harvester = BOOL$false DatapackManager run tellraw @s [{"text":" "},{"text":"Tool Breaking","color":"white","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enables tool damage and breaking when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables tool damage and breaking when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"gray","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_003_t"},"click_event":{"action":"run_command","command":"/trigger z_hv_003_t"}},{"text":"  "},{"text":"[✘]","color":"red","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Already disabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already disabled"}]}}]
execute if score CONFIG$toolbreaking Harvester = BOOL$true DatapackManager run tellraw @s [{"text":" "},{"text":"Tool Breaking","color":"white","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Enables tool damage and breaking when harvesting"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Enables tool damage and breaking when harvesting"}]}},{"text":"  "},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Already enabled"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Already enabled"}]}},{"text":"  "},{"text":"[✘]","color":"gray","hoverEvent":{"action":"show_text", "contents":[{"text":""},{"text":"Disable"}]},"hover_event":{"action":"show_text","value":[{"text":""},{"text":"Disable"}]},"clickEvent":{"action":"run_command","value":"/trigger z_hv_003_f"},"click_event":{"action":"run_command","command":"/trigger z_hv_003_f"}}]

tellraw @s [{"text":" "}]
